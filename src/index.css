@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
  --week-range-width: 9rem;
  --minimap-highlight-color: #facc15;
}

html,
body,
#root {
  width: 100vw;
  height: 100vh;
  margin: 0;
  overflow: hidden;
  @apply font-sans;
}

.week-range {
  @apply inline-block w-week-range;
}

.minimap-highlight {
  stroke: var(--minimap-highlight-color);
  @apply transition-transform;
}

/* subtle animation for calendar blocks */
.work-block {
  @apply transition-shadow;
}
.work-block:hover {
  @apply shadow-md;
}

/* progress bar animation */
.progress-segment {
  @apply transition-all duration-500;
}

@keyframes fadeIn {
  from { opacity: 0; }
  to { opacity: 1; }
}

.fade-in {
  animation: fadeIn 0.3s ease-in-out;
}

.hours-tooltip {
  @apply absolute left-1/2 -translate-x-1/2 mt-1 text-xs bg-gray-700 text-white px-2 py-1 rounded pointer-events-none whitespace-nowrap;
}

/* week navigation buttons */
.week-nav-button {
  @apply px-2 py-1 rounded bg-gray-200 hover:bg-gray-300 dark:bg-gray-700 dark:hover:bg-gray-600 text-sm;
}

/* modern scrollbars for work item lists */
.scroll-container {
  scrollbar-width: thin;
}
.scroll-container::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
.scroll-container::-webkit-scrollbar-track {
  background: transparent;
}
.scroll-container::-webkit-scrollbar-thumb {
  background-color: rgba(100, 100, 100, 0.5);
  border-radius: 4px;
}
.scroll-container::-webkit-scrollbar-thumb:hover {
  background-color: rgba(100, 100, 100, 0.7);
}

.resizer {
  width: 4px;
  cursor: col-resize;
  @apply bg-gray-300 dark:bg-gray-700;
}

@keyframes slideLeft {
  from {
    transform: translateX(100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes slideRight {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

.week-slide-left {
  animation: slideLeft 0.2s ease-out;
}

.week-slide-right {
  animation: slideRight 0.2s ease-out;
}

@keyframes slideDown {
  from {
    transform: translateY(-100%);
  }
  to {
    transform: translateY(0);
  }
}

.curtain-slide-down {
  animation: slideDown 0.3s ease-out;
}

.logo-letter {
  display: inline-block;
}

@keyframes rotateA {
  0% {
    transform: rotate(0deg);
  }
  25% {
    transform: rotate(5deg);
  }
  50% {
    transform: rotate(-3deg);
  }
  75% {
    transform: rotate(4deg);
  }
  100% {
    transform: rotate(0deg);
  }
}

.rotate-a {
  animation: rotateA 2s ease-in-out;
  transform-origin: top center;
}

.tree-node {
  @apply mb-2;
}

.tree-node-branch {
  position: relative;
  margin-left: 0.5rem;
  padding-left: 0.75rem;
  border-left: 1px solid rgba(148, 163, 184, 0.4);
}

.dark .tree-node-branch {
  border-left-color: rgba(148, 163, 184, 0.25);
}

.tree-node-branch::before {
  content: '';
  position: absolute;
  left: -1px;
  top: 1.2rem;
  width: 0.65rem;
  height: 1px;
  background: rgba(148, 163, 184, 0.4);
}

.dark .tree-node-branch::before {
  background: rgba(148, 163, 184, 0.25);
}

.tree-children {
  @apply mt-1 space-y-1;
}

.project-block {
  @apply border border-slate-200 dark:border-slate-700 rounded-xl bg-white/80 dark:bg-slate-900/60;
}

.project-head {
  @apply border-b border-slate-200 dark:border-slate-700;
}

.project-dot {
  @apply inline-flex h-2.5 w-2.5 rounded-full;
}

.project-body {
  @apply px-3 pb-3 space-y-2;
}

.project-pill {
  @apply inline-flex items-center rounded-full border border-slate-200 dark:border-slate-600 px-2 py-0.5;
}

.project-tree-surface {
  @apply rounded-lg border border-slate-200 dark:border-slate-700 bg-white/90 dark:bg-slate-900/60 p-2;
}

.tree-pill-wrapper {
  @apply flex flex-col gap-1;
}

.tree-pill {
  @apply inline-flex items-center gap-2 rounded-full border px-3 py-1 text-sm font-medium shadow-sm;
}

.tree-pill:hover {
  @apply shadow-sm;
}

.tree-pill-highlight {
  @apply ring-2 ring-amber-400/50;
}

.tree-pill-toggle {
  @apply inline-flex h-5 w-5 items-center justify-center rounded-full border border-slate-200 dark:border-slate-600 text-slate-600 dark:text-slate-200 transition-transform;
}

.tree-pill-dot {
  @apply inline-flex h-2 w-2 rounded-full;
}

.tree-pill-id {
  @apply font-mono text-[11px] text-slate-500 dark:text-slate-400;
}

.tree-pill-title {
  @apply truncate max-w-full text-sm;
}

.tree-note-row {
  @apply flex flex-wrap gap-1 text-[11px];
}

.tree-note-chip {
  @apply inline-flex items-center rounded-full border border-amber-200 dark:border-amber-400/40 bg-amber-50 dark:bg-amber-400/10 px-2 py-0.5 text-amber-700 dark:text-amber-200;
}

.tree-task-row {
  @apply flex flex-wrap gap-1;
}

.task-pill {
  @apply inline-flex items-center gap-2 rounded-full px-3 py-1 text-xs font-medium text-slate-900 shadow-sm;
}

.task-pill-highlight {
  @apply ring-2 ring-amber-300;
}

.task-pill-title {
  @apply truncate max-w-full;
}

.task-pill-note {
  @apply inline-flex h-4 w-4 items-center justify-center rounded-full bg-white/60 text-[10px] font-semibold text-slate-800;
}

